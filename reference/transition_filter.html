<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This transition allows you to transition between a range of filtering
conditions. The conditions are expressed as logical statements and rows in
the data will be retained if the statement evaluates to TRUE. It is
possible to keep filtered data on display by setting keep = TRUE which will
let data be retained as the result of the exit function. Note that if data is
kept the enter function will have no effect."><title>Transition between different filters — transition_filter • gganimate</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Transition between different filters — transition_filter"><meta property="og:description" content="This transition allows you to transition between a range of filtering
conditions. The conditions are expressed as logical statements and rows in
the data will be retained if the statement evaluates to TRUE. It is
possible to keep filtered data on display by setting keep = TRUE which will
let data be retained as the result of the exit function. Note that if data is
kept the enter function will have no effect."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gganimate</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.8.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/gganimate.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/example%20analysis.html">Example Analysis</a>
    <a class="dropdown-item" href="../articles/extra/talks.html">gganimate Talks</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/thomasp85/gganimate/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Transition between different filters</h1>
      <small class="dont-index">Source: <a href="https://github.com/thomasp85/gganimate/blob/HEAD/R/transition-filter.R" class="external-link"><code>R/transition-filter.R</code></a></small>
      <div class="d-none name"><code>transition_filter.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This transition allows you to transition between a range of filtering
conditions. The conditions are expressed as logical statements and rows in
the data will be retained if the statement evaluates to <code>TRUE</code>. It is
possible to keep filtered data on display by setting <code>keep = TRUE</code> which will
let data be retained as the result of the exit function. Note that if data is
kept the enter function will have no effect.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">transition_filter</span><span class="op">(</span></span>
<span>  transition_length <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  filter_length <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  wrap <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  keep <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>transition_length</dt>
<dd><p>The relative length of the transition. Will be
recycled to match the number of states in the data</p></dd>


<dt>filter_length</dt>
<dd><p>The relative length of the pause at the states. Will be
recycled to match the number of states in the data</p></dd>


<dt>...</dt>
<dd><p>A number of expressions to be evaluated in the context of the layer
data, returning a logical vector. If the expressions are named, the name will
be available as a frame variable.</p></dd>


<dt>wrap</dt>
<dd><p>Should the animation <em>wrap-around</em>? If <code>TRUE</code> the last filter will
be transitioned into the first.</p></dd>


<dt>keep</dt>
<dd><p>Should rows that evaluates to <code>FALSE</code> be kept in the data as it
looks after exit has been applied</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="label-variables">Label variables<a class="anchor" aria-label="anchor" href="#label-variables"></a></h2>
    

<p><code>transition_filter</code> makes the following variables available for string
literal interpretation, in addition to the general ones provided by
<code><a href="animate.html">animate()</a></code>:</p><ul><li><p><strong>transitioning</strong> is a boolean indicating whether the frame is part of the
transitioning phase</p></li>
<li><p><strong>previous_filter</strong> The name of the last filter the animation was at</p></li>
<li><p><strong>closest_filter</strong> The name of the filter closest to this frame</p></li>
<li><p><strong>next_filter</strong> The name of the next filter the animation will be part of</p></li>
<li><p><strong>previous_expression</strong> The expression of the last filter the animation was at</p></li>
<li><p><strong>closest_expression</strong> The expression of the filter closest to this frame</p></li>
<li><p><strong>next_expression</strong> The expression of the next filter the animation will be part of</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="object-permanence">Object permanence<a class="anchor" aria-label="anchor" href="#object-permanence"></a></h2>
    

<p><code>transition_filter</code> does not link rows across data to the same graphic
element, so elements will be defined uniquely by each row. If <code>keep = TRUE</code>
the rows not matching the conditions of a filter is not removed from the plot
after the exit animation, and a possible subsequent enter will begin from
the state they were left in, rather than enter anew from the state defined by
the enter function.</p>
    </div>
    <div class="section level2">
    <h2 id="computed-variables">Computed Variables<a class="anchor" aria-label="anchor" href="#computed-variables"></a></h2>
    

<p>It is possible to use variables calculated by the statistic to define the
transition. Simply inclose the variable in <code><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">stat()</a></code> in the same way as when
using computed variables in aesthetics.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other transitions: 
<code><a href="transition_components.html">transition_components</a>()</code>,
<code><a href="transition_events.html">transition_events</a>()</code>,
<code><a href="transition_layers.html">transition_layers</a>()</code>,
<code><a href="transition_manual.html">transition_manual</a>()</code>,
<code><a href="transition_null.html">transition_null</a>()</code>,
<code><a href="transition_reveal.html">transition_reveal</a>()</code>,
<code><a href="transition_states.html">transition_states</a>()</code>,
<code><a href="transition_time.html">transition_time</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">anim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">Petal.Width</span>, <span class="va">Petal.Length</span>, colour <span class="op">=</span> <span class="va">Species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">transition_filter</span><span class="op">(</span></span></span>
<span class="r-in"><span>    transition_length <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>    filter_length <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>    Setosa <span class="op">=</span> <span class="va">Species</span> <span class="op">==</span> <span class="st">'setosa'</span>,</span></span>
<span class="r-in"><span>    Long <span class="op">=</span> <span class="va">Petal.Length</span> <span class="op">&gt;</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>    Wide <span class="op">=</span> <span class="va">Petal.Width</span> <span class="op">&gt;</span> <span class="fl">2</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">'Filter: {closest_filter}'</span>,</span></span>
<span class="r-in"><span>    subtitle <span class="op">=</span> <span class="st">'{closest_expression}'</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="enter_exit.html">enter_fade</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="enter_exit.html">exit_fly</a></span><span class="op">(</span>y_loc <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Setting `keep = TRUE` allows you to keep the culled data on display. Only</span></span></span>
<span class="r-in"><span><span class="co"># exit functions will be used in that case (as elements enters from the</span></span></span>
<span class="r-in"><span><span class="co"># result of the exit function)</span></span></span>
<span class="r-in"><span><span class="va">anim2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">Petal.Width</span>, <span class="va">Petal.Length</span>, colour <span class="op">=</span> <span class="va">Species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">transition_filter</span><span class="op">(</span></span></span>
<span class="r-in"><span>    transition_length <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>    filter_length <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>    Setosa <span class="op">=</span> <span class="va">Species</span> <span class="op">==</span> <span class="st">'setosa'</span>,</span></span>
<span class="r-in"><span>    Long <span class="op">=</span> <span class="va">Petal.Length</span> <span class="op">&gt;</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>    Wide <span class="op">=</span> <span class="va">Petal.Width</span> <span class="op">&gt;</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>    keep <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">'Filter: {closest_filter}'</span>,</span></span>
<span class="r-in"><span>    subtitle <span class="op">=</span> <span class="st">'{closest_expression}'</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="enter_exit.html">exit_recolour</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">'grey'</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="enter_exit.html">exit_shrink</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Thomas Lin Pedersen, David Robinson, Posit, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

