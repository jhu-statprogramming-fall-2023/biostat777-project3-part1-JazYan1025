<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="gganimate">
<title>Getting Started • gganimate</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta property="og:description" content="gganimate">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gganimate</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.8.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/gganimate.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/example%20analysis.html">Example Analysis</a>
    <a class="dropdown-item" href="../articles/extra/talks.html">gganimate Talks</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/thomasp85/gganimate/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Getting Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/thomasp85/gganimate/blob/HEAD/vignettes/gganimate.Rmd" class="external-link"><code>vignettes/gganimate.Rmd</code></a></small>
      <div class="d-none name"><code>gganimate.Rmd</code></div>
    </div>

    
    
<p><em>gganimate</em> is an extension of the <em>grammar of
graphics</em>, as implemented by the <a href="https://ggplot2.tidyverse.org" class="external-link"><em>ggplot2</em></a> package, that
adds support for declaring animations using an API familiar to users of
<em>ggplot2</em>.</p>
<blockquote>
<p>The following introduction assumes familiarity with <em>ggplot2</em>
to the extent that constructing static plots and reading standard
<em>ggplot2</em> code feels natural. If you are new to both
<em>ggplot2</em> and <em>gganimate</em> you’ll benefit from exploring
the trove of <em>ggplot2</em> documentation, tutorials, and courses
available online first (see the <a href="https://ggplot2.tidyverse.org/#learning-ggplot2" class="external-link"><em>ggplot2</em>
webpage</a> for some pointers).</p>
</blockquote>
<div class="section level2">
<h2 id="your-first-animation">Your First Animation<a class="anchor" aria-label="anchor" href="#your-first-animation"></a>
</h2>
<p>We’ll jump right into our first animation. Don’t worry too much about
understanding the code, as we’ll dissect it later.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gganimate.com" class="external-link">gganimate</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: ggplot2</span></span>
<span><span class="co">#&gt; No renderer backend detected. gganimate will default to writing frames to separate files</span></span>
<span><span class="co">#&gt; Consider installing:</span></span>
<span><span class="co">#&gt; - the `gifski` package for gif output</span></span>
<span><span class="co">#&gt; - the `av` package for video output</span></span>
<span><span class="co">#&gt; and restarting the R session</span></span>
<span></span>
<span><span class="co"># We'll start with a static plot</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Petal.Width</span>, y <span class="op">=</span> <span class="va">Petal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
<p><img src="gganimate_files/figure-html/unnamed-chunk-2-1.png" width="100%"></p>
<p>You go from a static plot made with <em>ggplot2</em> to an animated
one, simply by adding on functions from <em>gganimate</em>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anim</span> <span class="op">&lt;-</span> <span class="va">p</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/transition_states.html">transition_states</a></span><span class="op">(</span><span class="va">Species</span>,</span>
<span>                    transition_length <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                    state_length <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">anim</span></span>
<span><span class="co">#&gt; Warning: No renderer available. Please install the gifski, av, or magick</span></span>
<span><span class="co">#&gt; package to create animated output</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
<blockquote>
<p>❗ <code><a href="../reference/transition_states.html">transition_states()</a></code> splits up plot data by a discrete
variable and animates between the different states.</p>
</blockquote>
<p>As can be seen, very few additions to the plot results in a quite
complex animation. So what did we do to get this animation? We added a
type of <em>transition</em>. Transitions are functions that interpret
the plot data in order to somehow distribute it over a number of frames.
<code><a href="../reference/transition_states.html">transition_states()</a></code> specifically splits the data into
subsets based on a variable in the data (here <code>Species</code>), and
calculates intermediary data states that ensures a smooth transition
between the states (something referred to as <em>tweening</em>).
<em>gganimate</em> provides a range of different transitions, but for
the rest of the examples we’ll be sticking to
<code><a href="../reference/transition_states.html">transition_states()</a></code> and see how we can modify the
output.</p>
</div>
<div class="section level2">
<h2 id="easing">Easing<a class="anchor" aria-label="anchor" href="#easing"></a>
</h2>
<p>When <code><a href="../reference/transition_states.html">transition_states()</a></code> calculates intermediary data
for the tweening, it needs to decide how the change from one value to
another should progress. This is a concept called <em>easing</em>. The
default easing is <em>linear</em>, but others can be used, potentially
only targeting specific aesthetics. Setting easing is done with the
<code><a href="../reference/ease_aes.html">ease_aes()</a></code> function. The first argument sets the default
easing and subsequent named arguments sets it for specific
aesthetics.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anim</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/ease_aes.html">ease_aes</a></span><span class="op">(</span><span class="st">'cubic-in-out'</span><span class="op">)</span> <span class="co"># Slow start and end for a smoother look</span></span>
<span><span class="co">#&gt; Warning: No renderer available. Please install the gifski, av, or magick</span></span>
<span><span class="co">#&gt; package to create animated output</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
<blockquote>
<p>❗ <code><a href="../reference/ease_aes.html">ease_aes()</a></code> defines the velocity with which aesthetics
change during an animation.</p>
</blockquote>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anim</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/ease_aes.html">ease_aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="st">'bounce-out'</span><span class="op">)</span> <span class="co"># Sets special ease for y aesthetic</span></span>
<span><span class="co">#&gt; Warning: No renderer available. Please install the gifski, av, or magick</span></span>
<span><span class="co">#&gt; package to create animated output</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="labeling">Labeling<a class="anchor" aria-label="anchor" href="#labeling"></a>
</h2>
<p>It can be quite hard to understand an animation without any
indication as to what each time point relates to. <em>gganimate</em>
solves this by providing a set of variables for each frame, which can be
inserted into plot labels using <a href="https://glue.tidyverse.org" class="external-link"><em>glue</em></a> syntax.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anim</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">'Now showing {closest_state}'</span>,</span>
<span>          subtitle <span class="op">=</span> <span class="st">'Frame {frame} of {nframes}'</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: No renderer available. Please install the gifski, av, or magick</span></span>
<span><span class="co">#&gt; package to create animated output</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
<blockquote>
<p>❗ Use <em>glue</em> syntax to insert frame variables in plot labels
and titles.</p>
</blockquote>
<p>Different transitions provide different frame variables.
<code>closest_state</code> only makes sense for
<code><a href="../reference/transition_states.html">transition_states()</a></code> and is thus only available when that
transition is used.</p>
</div>
<div class="section level2">
<h2 id="object-permanence">Object Permanence<a class="anchor" aria-label="anchor" href="#object-permanence"></a>
</h2>
<p>In the animation above, it appears as if data in a single measurement
changes gradually as the flower being measured on somehow morphs between
three different iris species. This is probably not how Fisher conducted
the experiment and got those numbers. In general, when you make an
animation, <em>graphic elements should only transition between instances
of the same underlying phenomenon</em>. This sounds complicated but it
is more or less the same principle that governs makes sense to draw a
line between two observations. You wouldn’t connect observations from
different iris species, but repeated observations on the same plant
would be fine to connect. Same thing with animations.</p>
<p>Just to make this very clear (it is an important concept). The line
plot equivalent of our animation above is:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Petal.Width</span>, y <span class="op">=</span> <span class="va">Petal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>, colour <span class="op">=</span> <span class="st">'grey'</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="gganimate_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
<p>Ugh…</p>
<p>So, how do we fix this and tell <em>gganimate</em> to not morph
observations from different species into each others? The key is the
<em>group aesthetic</em>. You may be familiar with this aesthetic from
plotting lines and polygons, but in <em>gganimate</em> it takes a more
central place. Data that have the same group aesthetic are interpreted
as being linked across states. The semantics of the group aesthetic in
<em>ggplot2</em> is such that if it is undefined it will get calculated
based on the interaction of all discrete aesthetics (sans
<code>label</code>). If none exists, such as in our iris animation, all
data will get the same group, and will thus be matched by
<em>gganimate</em>. So, there are two ways to fix our plot:</p>
<ol style="list-style-type: decimal">
<li>Add some aesthetics that distinguish the different species</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Petal.Width</span>, y <span class="op">=</span> <span class="va">Petal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="va">Species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/transition_states.html">transition_states</a></span><span class="op">(</span><span class="va">Species</span>,</span>
<span>                    transition_length <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                    state_length <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: No renderer available. Please install the gifski, av, or magick</span></span>
<span><span class="co">#&gt; package to create animated output</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Set the group directly</li>
</ol>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Petal.Width</span>, y <span class="op">=</span> <span class="va">Petal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">Species</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/transition_states.html">transition_states</a></span><span class="op">(</span><span class="va">Species</span>,</span>
<span>                    transition_length <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                    state_length <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: No renderer available. Please install the gifski, av, or magick</span></span>
<span><span class="co">#&gt; package to create animated output</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
<blockquote>
<p>❗ The group aesthetic defines how the data in a layer is matched
across the animation.</p>
</blockquote>
<p>In general <em>2)</em> is preferred as it makes the intent explicit.
It also makes it possible to match data with different discrete
aesthetics such as keeping our (now obviously faulty) transition while
having different colour for the different species)</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Petal.Width</span>, y <span class="op">=</span> <span class="va">Petal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="va">Species</span>, group <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/transition_states.html">transition_states</a></span><span class="op">(</span><span class="va">Species</span>,</span>
<span>                    transition_length <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                    state_length <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: No renderer available. Please install the gifski, av, or magick</span></span>
<span><span class="co">#&gt; package to create animated output</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="enter-and-exit">Enter and Exit<a class="anchor" aria-label="anchor" href="#enter-and-exit"></a>
</h2>
<p>While we may have made our animation more correct by separating the
data from the different species, we have also made it quite a bit more
boring. Now it simply appears as three static plots shown one at a time,
which is hardly an attention grabber. If only there were a way to
animate the appearance and disappearance of data…</p>
<p>Enter the <code>enter</code> and <code>exit</code> functions. These
functions are responsible for modifying the state of appearing
(entering) and disappearing (exiting) data, so that the animation can
tween from and to the new state. Let’s spice up our animation a bit:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Petal.Width</span>, y <span class="op">=</span> <span class="va">Petal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="va">Species</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/transition_states.html">transition_states</a></span><span class="op">(</span><span class="va">Species</span>,</span>
<span>                    transition_length <span class="op">=</span> <span class="fl">2</span>,</span>
<span>                    state_length <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">anim</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/enter_exit.html">enter_fade</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/enter_exit.html">exit_shrink</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: No renderer available. Please install the gifski, av, or magick</span></span>
<span><span class="co">#&gt; package to create animated output</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
<blockquote>
<p>❗ <code>enter</code> and <code>exit</code> functions are used to
modify the aesthetics of appearing and disappearing data so that their
entrance or exit may be animated.</p>
</blockquote>
<p><em>gganimate</em> comes with a range of different functions, and
using the <code><a href="../reference/enter_exit.html">enter_manual()</a></code> and <code><a href="../reference/enter_exit.html">exit_manual()</a></code>
functions you can create your own. Enter and exit functions are
composable though, so you can often come pretty far by combining
preexisting ones</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">anim</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/enter_exit.html">enter_fade</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="../reference/enter_exit.html">enter_drift</a></span><span class="op">(</span>x_mod <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/enter_exit.html">exit_shrink</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="../reference/enter_exit.html">exit_drift</a></span><span class="op">(</span>x_mod <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: No renderer available. Please install the gifski, av, or magick</span></span>
<span><span class="co">#&gt; package to create animated output</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="rendering">Rendering<a class="anchor" aria-label="anchor" href="#rendering"></a>
</h2>
<p>In the examples above the animations has simply appeared when we
printed the animation object, just like we would expect from
<em>ggplot2</em>. As a lot of things are happening automatically, and
you might want to take control, this section will give a brief overview
of the rendering.</p>
<p><em>gganimate</em>’s model for an animation is dimensionless in the
same way as <em>ggplot2</em> describe plots independent of the final
width and height of the plot. This means that the final number of frames
and its frame-rate are only ever given when you ask <em>gganimate</em>
to render the animation. When you print an animation object the
<code><a href="../reference/animate.html">animate()</a></code> function is called on the animation with default
arguments, some of which are:</p>
<ul>
<li>
<strong>nframes</strong> sets the number of frames (defaults to
<code>100</code>)</li>
<li>
<strong>fps</strong> sets the number of frames (defaults to
<code>10</code>)</li>
<li>
<strong>dev</strong> sets the device used to render each frame
(defaults to <code>'png'</code>)</li>
<li>
<strong>renderer</strong> sets the function used to combine each
frame into an animate (defaults to <code><a href="../reference/renderers.html">gifski_renderer()</a></code>)</li>
</ul>
<p>There are other arguments as well (e.g. <code>...</code> will be
passed on to the device so you can set width, height, dpi, etc), but
these are the most important. If you don’t like the defaults you can
either call <code><a href="../reference/animate.html">animate()</a></code> directly with values of your
choosing, or modify the defaults by setting new with
<code>options(gganimate.&lt;argument&gt; = &lt;value&gt;)</code>.</p>
<p>A topic that requires some additional words are the renderers. The
default will use <a href="https://github.com/r-rust/gifski" class="external-link">gifski</a>
to combine the frames into a gif. gifs are great because they are
virtually supported everywhere, and gifski is both a very fast, and very
high quality converter. Still, you may have reasons to want a different
output. <em>gganimate</em> is quite agnostic to how you want to combine
the frames and, while it comes with a set of predefined renderers, any
function that takes a vector of paths to image files along with a
frame-rate, will do. The return value of your renderer is what is
ultimately returned by the <code><a href="../reference/animate.html">animate()</a></code> function.</p>
<p>Below are a couple of examples of different <code><a href="../reference/animate.html">animate()</a></code>
calls:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Video output</span></span>
<span><span class="fu"><a href="../reference/animate.html">animate</a></span><span class="op">(</span></span>
<span>  <span class="va">anim</span> <span class="op">+</span> <span class="fu"><a href="../reference/enter_exit.html">enter_fade</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="../reference/enter_exit.html">exit_fly</a></span><span class="op">(</span>y_loc <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  renderer <span class="op">=</span> <span class="fu"><a href="../reference/renderers.html">av_renderer</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Different size and resolution</span></span>
<span><span class="fu"><a href="../reference/animate.html">animate</a></span><span class="op">(</span></span>
<span>  <span class="va">anim</span> <span class="op">+</span> <span class="fu"><a href="../reference/ease_aes.html">ease_aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">'bounce-out'</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="../reference/enter_exit.html">enter_fly</a></span><span class="op">(</span>x_loc <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="../reference/enter_exit.html">exit_fade</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">400</span>, height <span class="op">=</span> <span class="fl">600</span>, res <span class="op">=</span> <span class="fl">35</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: No renderer available. Please install the gifski, av, or magick</span></span>
<span><span class="co">#&gt; package to create animated output</span></span></code></pre></div>
<p>If you need to save the animation for later use you can use the
<code><a href="../reference/anim_save.html">anim_save()</a></code> function. It works much like
<code><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggsave()</a></code> from <em>ggplot2</em> and automatically grabs the
last rendered animation if you do not specify one directly.</p>
</div>
<div class="section level2">
<h2 id="want-more">Want more?<a class="anchor" aria-label="anchor" href="#want-more"></a>
</h2>
<p>This guide is far from exhaustive, but have hopefully given you a
broad understanding of how <em>gganimate</em> works. There are still
more to explore as we have only scratched the surface of transitions,
let alone mentioned views and shadows. But for now this is left to you.
There is a fantastic joy in discovery and with the things you have now
learned you are ready to go digging on your own.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Thomas Lin Pedersen, David Robinson, Posit, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
